<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/CSS/interpreter.css">
    <title>GestSure - Interpreter</title>

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-wasm@latest/dist/tf-backend-wasm.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/holistic/holistic.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>
    <script src="https://code.responsivevoice.org/responsivevoice.js?key=1sHklYBU"></script>
</head>

<body>
    <header class="header">
        <nav class="navbar">
            <div class="nav-links">
                <a href="home.html" class="nav-link">Home</a>
                <a href="interpreter.html" class="nav-link active">Interpreter</a>
                <a href="lessons.html" class="nav-link">Lessons</a>
            </div>
            <div class="logo-nav">
                <img src="/PICTURES/logo.png" alt="GestSure Logo" class="nav-logo">
                <span class="nav-brand">GestSure</span>
            </div>
        </nav>
    </header>

    <main class="main-content">
        <section class="camera-section">
            
            <div class="status-indicator">
                <div class="status-dot" id="statusDot"></div>
                <span class="status-text" id="statusText">Loading AI Models...</span>
                <span class="fps-counter" id="fpsCounter">FPS: 0</span>
                </div>

            <div class="mode-buttons" role="tablist" aria-label="Interpreter Modes">
                <button class="mode-btn active" id="btnAlphabet" onclick="switchModel('alphabet')">Alphabet</button>
                <button class="mode-btn" id="btnNumbers" onclick="switchModel('numbers')">Numbers</button>
                <button class="mode-btn" id="btnWords" onclick="switchModel('words')">Words</button>
            </div>

            <div class="camera-container">
                <video class="camera-feed" id="videoElement" playsinline style="display:none;"></video>
                <canvas class="tracking-overlay" id="canvasElement"></canvas>
            </div>

            <div class="camera-controls">
                <button class="control-btn" id="startBtn">
                    <span>‚ñ∂</span> Start Camera
                </button>
                <button class="control-btn stop" id="stopBtn" style="display: none;">
                    <span>‚èπ</span> Stop Camera
                </button>
                <button class="control-btn" id="clearBtn">
                    <span>X</span> Clear Text
                </button>
                <button id="spaceBtn" class="control-btn" style="display:none;">SPACE</button>
                <button id="undoBtn" class="control-btn">UNDO</button>
            </div>

        </section>

        <section class="message-section">
            <div class="message-header">
                <h2 class="message-title">Message</h2>
                <p class="message-subtitle">Real-time sign language interpretation</p>
                <p id="model-status" style="font-size: 0.8rem; color: #3b82f6;">Model: Loading...</p>
            </div>

            <div class="message-display">
                <button id="speakBtn" title="Read Aloud">
                    <span>üîä</span> Translate and Speak
                </button>

                <div class="background-watermark">GestSure</div>
                <div class="message-content">
                    <div class="detected-text" id="detectedText">...</div>
                    <div class="confidence-score" id="confidenceScore">Confidence: 0%</div>
                    
                    <div class="placeholder-text" id="placeholderText">
                        Wait for models to load, then click Start Camera.<br>
                        Position your hands clearly within view.
                    </div>
                </div>
            </div>

            
        </section>
    </main>
    
    <script src="/JAVASCRIPT/interpreter.js" type="module"></script>
</body>
</html>