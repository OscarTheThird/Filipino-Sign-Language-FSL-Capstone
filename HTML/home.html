 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/CSS/home.css">
    <title>GestSure - Home</title>
</head>
<body>
    <!-- Header Navigation -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-links">
                <a href="#" class="nav-link active" data-route="home">Home</a>
                <a href="interpreter.html" class="nav-link" data-route="interpreter">Interpreter</a>
                <a href="lessons.html" class="nav-link" data-route="lessons">Lessons</a>
            </div>
            <div class="logo-nav">
                <img src="/PICTURES/logo.png" alt="GestSure Logo" class="nav-logo">
                <span class="nav-brand">GestSure</span>
                <button class="login-nav-btn" onclick="openLoginModal()">Login</button>
                <button class="register-nav-btn" onclick="openRegisterModal()">Register</button>
                <button class="logout-nav-btn" style="display:none;" onclick="handleLogout()">Logout</button>
            </div>
        </nav>
    </header>

    <main class="main-content">
        <!-- Left Section -->
        <section class="left-section">
            <div class="brand-section">
                <div class="main-logo">
                    <img src="/PICTURES/logo.png" alt="GestSure Logo" class="logo-image">
                </div>
                <h1 class="main-title">GestSure</h1>
                <p class="main-tagline">INSTANT SIGN LANGUAGE INTERPRETER</p>
                <div class="description">
                    <p><strong>
                        Advanced sign that seamlessly interprets ASL and Machine Learning with computer vision to interpret sign language, provide real-time translation, and enhance ASL communication.
                    </strong></p>
                </div>
            </div>
        </section>
        <!-- Right Section -->
        <section class="right-section">
            <div class="video-container">
                <div class="video-frame">
                    <img src="/PICTURES/person-video.jpg" alt="Person using sign language" class="video-placeholder">
                </div>
                <div class="video-controls">
                    <div class="control-dots">
                        <span class="dot active"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                        <span class="dot"></span>
                    </div>
                </div>
                <div class="status-text">
                    <p>This person is [Preset Word Recognition].</p>
                    <p>Here are some useful words and sentences for effective communication.</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeLoginModal()">&times;</span>
            <div class="login-container">
                <div class="left-panel">
                    <img src="/PICTURES/image1.png" alt="Two people communicating" class="illustration">
                </div>
                <div class="right-panel">
                    <div class="logo-section">
                        <img src="/PICTURES/logo.png" alt="GestSure Logo" class="logo-image">
                        <h1 class="brand-name">
                            <span class="gest">Gest</span><span class="sure">Sure</span>
                        </h1>
                        <p class="brand-tagline">Instant Sign Language Interpreter</p>
                    </div>
                    <h2 class="form-title">LOGIN</h2>
                    <form id="loginForm">
                        <div class="form-group">
                            <label class="form-label">EMAIL</label>
                            <input type="email" class="form-input" placeholder="Enter your email address" required>
                        </div>
                        <div class="form-group password-group">
                            <label class="form-label">PASSWORD</label>
                            <input type="password" class="form-input" id="login-password" placeholder="Enter your password" required>
                            <button type="button" class="show-hide-btn" onclick="togglePasswordVisibility('login-password', this)">Show</button>
                        </div>
                        <button type="submit" class="login-btn">
                            LOGIN
                        </button>
                    </form>
                    <div class="form-footer">
                        Don't have an account? <a href="#" onclick="switchToRegisterModal(event)">Create account</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeRegisterModal()">&times;</span>
            <div class="login-container">
                <div class="left-panel">
                    <img src="/PICTURES/image1.png" alt="Two people communicating" class="illustration">
                </div>
                <div class="right-panel">
                    <div class="logo-section">
                        <img src="/PICTURES/logo.png" alt="GestSure Logo" class="logo-image">
                        <h1 class="brand-name">
                            <span class="gest">Gest</span><span class="sure">Sure</span>
                        </h1>
                        <p class="brand-tagline">Instant Sign Language Interpreter</p>
                    </div>
                    <h2 class="form-title">REGISTER</h2>
                    <form id="registerForm">
                        <div class="form-group">
                            <label class="form-label">FIRSTNAME</label>
                            <input type="text" class="form-input" placeholder="Enter your first name" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">LASTNAME</label>
                            <input type="text" class="form-input" placeholder="Enter your last name" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">AGE</label>
                            <input type="number" class="form-input" placeholder="Enter your age" min="1" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">GENDER</label>
                            <select class="form-input" required>
                                <option value="">Select gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">EMAIL</label>
                            <input type="email" class="form-input" placeholder="Enter your email address" required>
                        </div>
                        <div class="form-group password-group">
                            <label class="form-label">PASSWORD</label>
                            <input type="password" class="form-input" id="register-password" placeholder="Create a password" required>
                            <button type="button" class="show-hide-btn" onclick="togglePasswordVisibility('register-password', this)">Show</button>
                        </div>
                        <div class="form-group password-group">
                            <label class="form-label">CONFIRM PASSWORD</label>
                            <input type="password" class="form-input" id="register-confirm-password" placeholder="Confirm your password" required>
                            <button type="button" class="show-hide-btn" onclick="togglePasswordVisibility('register-confirm-password', this)">Show</button>
                        </div>
                        <div class="form-footer" id="register-error" style="color: #e11d48; display: none; margin-bottom: 8px;"></div>
                        <button type="submit" class="register-btn">
                            REGISTER
                        </button>
                    </form>
                    <div class="form-footer">
                        Have an account? <a href="#" onclick="switchToLoginModal(event)">Login</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Modal control
        function openLoginModal() {
            document.getElementById('loginModal').style.display = 'block';
        }
        function closeLoginModal() {
            document.getElementById('loginModal').style.display = 'none';
        }
        function openRegisterModal() {
            document.getElementById('registerModal').style.display = 'block';
        }
        function closeRegisterModal() {
            document.getElementById('registerModal').style.display = 'none';
        }
        function switchToRegisterModal(e) {
            e.preventDefault();
            closeLoginModal();
            openRegisterModal();
        }
        function switchToLoginModal(e) {
            e.preventDefault();
            closeRegisterModal();
            openLoginModal();
        }
        window.onclick = function(event) {
            const loginModal = document.getElementById('loginModal');
            const registerModal = document.getElementById('registerModal');
            if (event.target === loginModal) closeLoginModal();
            if (event.target === registerModal) closeRegisterModal();
        }

        // Password show/hide
        function togglePasswordVisibility(inputId, btn) {
            const input = document.getElementById(inputId);
            if (input.type === "password") {
                input.type = "text";
                btn.textContent = "Hide";
            } else {
                input.type = "password";
                btn.textContent = "Show";
            }
        }

        // Login state
        function isLoggedIn() {
            return !!localStorage.getItem('gestsure-loggedin');
        }
        function setLoggedIn(state) {
            if(state) {
                localStorage.setItem('gestsure-loggedin', '1');
            } else {
                localStorage.removeItem('gestsure-loggedin');
            }
            updateNavAuthButtons();
        }
        function updateNavAuthButtons() {
            const loginBtn = document.querySelector('.login-nav-btn');
            const registerBtn = document.querySelector('.register-nav-btn');
            const logoutBtn = document.querySelector('.logout-nav-btn');
            if(isLoggedIn()) {
                loginBtn.style.display = 'none';
                registerBtn.style.display = 'none';
                logoutBtn.style.display = 'inline-block';
            } else {
                loginBtn.style.display = 'inline-block';
                registerBtn.style.display = 'inline-block';
                logoutBtn.style.display = 'none';
            }
        }
        function handleLogout() {
            setLoggedIn(false);
            window.location.href = "home.html";
        }

        // Intercept nav links if not logged in
        document.addEventListener('DOMContentLoaded', function() {
            updateNavAuthButtons();

            document.querySelectorAll('.nav-link').forEach(function(link) {
                // Don't block Home link
                if(link.getAttribute('data-route') === 'home') return;
                link.addEventListener('click', function(e) {
                    if(!isLoggedIn()) {
                        e.preventDefault();
                        openLoginModal();
                        window.intendedRoute = link.getAttribute('href');
                    }
                });
            });

            // Handle login form submission
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                setLoggedIn(true);
                closeLoginModal();
                if(window.intendedRoute) {
                    window.location.href = window.intendedRoute;
                    window.intendedRoute = null;
                } else {
                    updateNavAuthButtons();
                }
            });

            // Handle register form submission with password match validation
            document.getElementById('registerForm').addEventListener('submit', function(e) {
                e.preventDefault();
                const pass = document.getElementById('register-password').value;
                const confirm = document.getElementById('register-confirm-password').value;
                const errorDiv = document.getElementById('register-error');
                if (pass !== confirm) {
                    errorDiv.textContent = "Passwords do not match!";
                    errorDiv.style.display = 'block';
                    return;
                }
                errorDiv.style.display = 'none';
                setLoggedIn(true);
                closeRegisterModal();
                updateNavAuthButtons();
            });
        });
    </script>
</body>
</html>